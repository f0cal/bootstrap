{% import "_macros/project/project_yaml.jinja" as Project with context %}

{%- for egg in Project.with_defaults(project, "eggs") | load_yaml -%}

{%- set name = egg.name -%}
{%- for repo in egg.repos -%}

{%- set subdir = "" -%}
{%- if egg.get("subdir", None ) -%}
{%- set subdir = "&subdirectory=%s" | format(egg.subdir) -%}
{%- endif %}
-e file://{{ project.code_dir }}/{{ egg.repos[0] }}#egg={{ egg.name }}{{ subdir }}
{% endfor -%}
{%- endfor -%}
